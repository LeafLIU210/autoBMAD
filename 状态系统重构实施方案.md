# Epic Automation çŠ¶æ€ç³»ç»Ÿé‡æ„å®æ–½æ–¹æ¡ˆ

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2026-01-10
**é¡¹ç›®**: autoBMAD/epic_automation
**åŸºäº**: çŠ¶æ€ç³»ç»Ÿæ¶æ„åˆ†ææŠ¥å‘Š

---

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

### å½“å‰é—®é¢˜æ€»ç»“
1. **çŠ¶æ€å¾ªç¯ä¾èµ–**: `story_parser.py:_normalize_story_status()`å…è®¸å¤„ç†çŠ¶æ€å€¼åå‘å½±å“æ ¸å¿ƒçŠ¶æ€å€¼
2. **æ¶æ„ä¸ä¸€è‡´**: QAå·¥å…·ä½¿ç”¨ç‹¬ç«‹çŠ¶æ€ç³»ç»Ÿï¼ˆQAStatusï¼‰ï¼Œä¸æ ¸å¿ƒ/å¤„ç†çŠ¶æ€åˆ†ç¦»
3. **çŠ¶æ€åˆ†æ•£åŒ–**: 3å¥—ç‹¬ç«‹çŠ¶æ€ç³»ç»Ÿï¼ˆstory_parserã€state_managerã€qa_tools_integrationï¼‰
4. **æ•°æ®æµæ··ä¹±**: åŒå‘æ•°æ®æµå¯¼è‡´çŠ¶æ€ä¸ä¸€è‡´é£é™©

### æ ¸å¿ƒç›®æ ‡
1. **ç»Ÿä¸€çŠ¶æ€æ¶æ„**: æ‰€æœ‰agentä½¿ç”¨ç›¸åŒçš„ä¸¤å¥—çŠ¶æ€ç³»ç»Ÿï¼ˆæ ¸å¿ƒçŠ¶æ€ + å¤„ç†çŠ¶æ€ï¼‰
2. **å•å‘æ•°æ®æµ**: æ–‡æ¡£ â†’ æ ¸å¿ƒçŠ¶æ€ â†’ å¤„ç†çŠ¶æ€ï¼ˆç¦æ­¢åå‘ï¼‰
3. **æ¶ˆé™¤å¾ªç¯ä¾èµ–**: ç§»é™¤çŠ¶æ€ç³»ç»Ÿé—´çš„ç›¸äº’ä¾èµ–
4. **ç®€åŒ–è½¬æ¢é€»è¾‘**: ç§»é™¤åŒå‘æ˜ å°„ï¼Œå‡å°‘çº¦250è¡Œä»£ç 

### âš ï¸ é‡è¦å£°æ˜
**æœ¬é‡æ„é‡‡ç”¨ç ´åæ€§æ›´æ”¹æ–¹å¼ï¼Œä¸æä¾›ä»»ä½•å‘åå…¼å®¹æ€§**

- âŒ æ— æ•°æ®åº“è¿ç§»
- âŒ æ— æ—§æ•°æ®å…¼å®¹
- âŒ æ— ç°åº¦å‘å¸ƒ
- âŒ æ— å›æ»šæœºåˆ¶
- âœ… ç›´æ¥ä¿®æ”¹ä»£ç 
- âœ… æ–°ç¯å¢ƒéƒ¨ç½²
- âœ… å…¨æ–°åŠŸèƒ½æµ‹è¯•

---

## ğŸ¯ å®æ–½æ–¹æ¡ˆæ€»è§ˆ

### å®æ–½ç­–ç•¥
**åˆ†4ä¸ªé˜¶æ®µï¼Œ8ä¸ªæ­¥éª¤ï¼Œé¢„è®¡å·¥ä½œé‡: 6-8å¤©**
**âš ï¸ é‡è¦: é‡‡ç”¨ç ´åæ€§æ›´æ”¹ï¼Œæ— å‘åå…¼å®¹æ€§**

```
Phase 1: æ ¸å¿ƒé‡æ„ (3-4å¤©)
Phase 2: Agentè°ƒæ•´ (1-2å¤©)
Phase 3: æµ‹è¯•éªŒè¯ (2å¤©)
Phase 4: éƒ¨ç½²ä¸Šçº¿ (0.5å¤©)
```

### å…³é”®æ–‡ä»¶å˜æ›´
| æ–‡ä»¶ | å˜æ›´ç±»å‹ | å·¥ä½œé‡ | ä¼˜å…ˆçº§ |
|------|----------|--------|--------|
| `story_parser.py` | é‡æ„ | é«˜ | P0 |
| `state_manager.py` | é‡æ„ | ä¸­ | P0 |
| `qa_tools_integration.py` | é‡æ„ | ä¸­ | P0 |
| `qa_agent.py` | é‡æ„ | ä¸­ | P0 |
| `dev_agent.py` | è°ƒæ•´ | ä½ | P1 |
| `sm_agent.py` | è°ƒæ•´ | ä½ | P1 |
| `epic_driver.py` | è°ƒæ•´ | ä½ | P1 |

---

## ğŸ“Š è¯¦ç»†å®æ–½æ–¹æ¡ˆ

### Phase 1: æ ¸å¿ƒé‡æ„ (3-4å¤©)
**âš ï¸ ç ´åæ€§æ›´æ”¹ï¼Œç›´æ¥ä¿®æ”¹ä»£ç ï¼Œæ— éœ€å…¼å®¹æ—§ç‰ˆæœ¬**

#### æ­¥éª¤ 1.1: é‡æ„ `story_parser.py`
**ä»»åŠ¡**: ç»Ÿä¸€çŠ¶æ€å€¼ç³»ç»Ÿï¼Œæ¶ˆé™¤å¾ªç¯ä¾èµ–

**è¯¦ç»†å˜æ›´**:

**A. æ›´æ–°ProcessingStatusæšä¸¾**
```python
# ä½ç½®: story_parser.py:30-50
class ProcessingStatus(Enum):
    """ç»Ÿä¸€çš„å¤„ç†çŠ¶æ€å€¼ç³»ç»Ÿ"""

    # === æ•…äº‹å¤„ç†çŠ¶æ€ ===
    PENDING = "pending"           # æ•…äº‹æœªå¼€å§‹/è‰ç¨¿
    IN_PROGRESS = "in_progress"   # æ•…äº‹è¿›è¡Œä¸­
    REVIEW = "review"            # æ•…äº‹å®¡æŸ¥ä¸­
    COMPLETED = "completed"       # æ•…äº‹å·²å®Œæˆ
    FAILED = "failed"           # æ•…äº‹å¤±è´¥
    CANCELLED = "cancelled"     # æ•…äº‹å–æ¶ˆ

    # === QA ç›¸å…³å¤„ç†çŠ¶æ€ ===
    QA_PASS = "qa_pass"          # QA éªŒè¯é€šè¿‡
    QA_CONCERNS = "qa_concerns"  # QA å‘ç°éå…³é”®é—®é¢˜
    QA_FAIL = "qa_fail"         # QA å‘ç°å…³é”®é—®é¢˜
    QA_WAIVED = "qa_waived"     # QA è±å…

    # === ç‰¹æ®ŠçŠ¶æ€ ===
    ERROR = "error"            # ç³»ç»Ÿé”™è¯¯
    UNKNOWN = "unknown"        # æœªçŸ¥çŠ¶æ€
```

**B. ç§»é™¤åŒå‘æ˜ å°„**
```python
# ç§»é™¤ä»¥ä¸‹å†…å®¹:
# CORE_TO_PROCESSING_MAPPING (story_parser.py:88-105)
# PROCESSING_TO_CORE_MAPPING (story_parser.py:108-125)
```

**C. ç§»é™¤çŠ¶æ€è½¬æ¢å‡½æ•°**
```python
# ç§»é™¤ä»¥ä¸‹å‡½æ•°:
# def core_status_to_processing(core_status: str) -> str:
# def processing_status_to_core(processing_status: str) -> str:
# def is_processing_status_valid(processing_status: str) -> bool:
```

**D. é‡æ„ `_normalize_story_status()`**
```python
def _normalize_story_status(status: str) -> str:
    """
    æ ‡å‡†åŒ–æ•…äº‹çŠ¶æ€å€¼

    é‡è¦: æ­¤å‡½æ•°ç°åœ¨åªå¤„ç†æ ¸å¿ƒçŠ¶æ€å€¼
    ç¦æ­¢å¤„ç†çŠ¶æ€å€¼åå‘å½±å“æ ¸å¿ƒçŠ¶æ€å€¼

    Args:
        status: è¾“å…¥çš„çŠ¶æ€å€¼

    Returns:
        æ ‡å‡†åŒ–çš„æ ¸å¿ƒçŠ¶æ€å€¼
    """
    # 1. æ ‡å‡†åŒ–ä¸ºæ ‡é¢˜æ ¼å¼
    status = status.strip().title()

    # 2. å¦‚æœå·²ç»æ˜¯æ ‡å‡†æ ¸å¿ƒçŠ¶æ€å€¼ï¼Œç›´æ¥è¿”å›
    if status in CORE_STATUS_VALUES:
        return status

    # 3. å¤„ç†å„ç§æ ¼å¼å˜ä½“ï¼ˆå°å†™åŒ¹é…ï¼‰
    status_lower = status.lower()

    # è‰ç¨¿å˜ä½“
    if status_lower in ["draft", "è‰ç¨¿"]:
        return CORE_STATUS_DRAFT

    # å¼€å‘å°±ç»ªå˜ä½“
    if status_lower in ["ready for development", "ready"]:
        return CORE_STATUS_READY_FOR_DEVELOPMENT

    # è¿›è¡Œä¸­å˜ä½“
    if status_lower in ["in progress", "in_progress", "è¿›è¡Œä¸­", "å¼€å‘ä¸­"]:
        return CORE_STATUS_IN_PROGRESS

    # å®¡æŸ¥å°±ç»ªå˜ä½“
    if status_lower in ["ready for review", "review", "å¾…å®¡æŸ¥"]:
        return CORE_STATUS_READY_FOR_REVIEW

    # å®Œæˆå°±ç»ªå˜ä½“
    if status_lower in ["ready for done", "ready for completion"]:
        return CORE_STATUS_READY_FOR_DONE

    # å·²å®Œæˆå˜ä½“
    if status_lower in ["done", "completed", "å·²å®Œæˆ", "å®Œæˆ"]:
        return CORE_STATUS_DONE

    # å¤±è´¥å˜ä½“
    if status_lower in ["failed", "error", "å¤±è´¥", "é”™è¯¯"]:
        return CORE_STATUS_FAILED

    # 4. é»˜è®¤è¿”å›è‰ç¨¿çŠ¶æ€
    return CORE_STATUS_DRAFT
```

**E. ä¿ç•™å•å‘è½¬æ¢å‡½æ•°**
```python
def core_status_to_processing_status(core_status: str, context: str = "story_processing") -> str:
    """
    æ ¸å¿ƒçŠ¶æ€å€¼ â†’ å¤„ç†çŠ¶æ€å€¼è½¬æ¢ï¼ˆå•å‘ï¼‰

    Args:
        core_status: æ ¸å¿ƒçŠ¶æ€å€¼
        context: è½¬æ¢ä¸Šä¸‹æ–‡ï¼ˆ"story_processing" æˆ– "qa_execution"ï¼‰

    Returns:
        å¯¹åº”çš„å¤„ç†çŠ¶æ€å€¼
    """
    # æ•…äº‹å¤„ç†æ˜ å°„
    story_mapping = {
        "Draft": "pending",
        "Ready for Development": "pending",
        "In Progress": "in_progress",
        "Ready for Review": "review",
        "Ready for Done": "review",
        "Done": "completed",
        "Failed": "failed",
    }

    return story_mapping.get(core_status, "unknown")
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] ProcessingStatusæšä¸¾åŒ…å«QAçŠ¶æ€
- [ ] ç§»é™¤åŒå‘æ˜ å°„å­—å…¸
- [ ] ç§»é™¤åå‘è½¬æ¢å‡½æ•°
- [ ] `_normalize_story_status()`åªå¤„ç†æ ¸å¿ƒçŠ¶æ€
- [ ] ä¿ç•™å•å‘è½¬æ¢å‡½æ•°

#### æ­¥éª¤ 1.2: é‡æ„ `qa_tools_integration.py`
**ä»»åŠ¡**: ç§»é™¤ç‹¬ç«‹QAçŠ¶æ€ç³»ç»Ÿ

**è¯¦ç»†å˜æ›´**:

**A. ç§»é™¤QAStatusæšä¸¾**
```python
# ç§»é™¤ä»¥ä¸‹å†…å®¹ (qa_tools_integration.py:20-26):
# class QAStatus(Enum):
#     PASS = "PASS"
#     CONCERNS = "CONCERNS"
#     FAIL = "FAIL"
#     WAIVED = "WAIVED"
```

**B. æ›´æ–°å¯¼å…¥**
```python
# æ·»åŠ å¯¼å…¥
from .story_parser import ProcessingStatus

# ç§»é™¤å¯¼å…¥
# from .state_manager import QAResult
```

**C. æ›´æ–°å·¥å…·æ‰§è¡Œé€»è¾‘**
```python
# åŸæœ‰é€»è¾‘ (åŸºäºQAStatus):
def _determine_overall_status(bp_result, ft_result) -> QAStatus:
    if bp_result == QAStatus.WAIVED or ft_result == QAStatus.WAIVED:
        return QAStatus.WAIVED
    elif bp_result == QAStatus.PASS and ft_result == QAStatus.PASS:
        return QAStatus.PASS
    elif bp_result == QAStatus.FAIL or ft_result == QAStatus.FAIL:
        return QAStatus.FAIL
    else:
        return QAStatus.CONCERNS

# æ–°é€»è¾‘ (åŸºäºProcessingStatus):
def _determine_overall_status(bp_result, ft_result) -> ProcessingStatus:
    """ç¡®å®šæ•´ä½“QAçŠ¶æ€"""
    # WAIVED ä¼˜å…ˆä¼ æ’­
    if bp_result == ProcessingStatus.QA_WAIVED or ft_result == ProcessingStatus.QA_WAIVED:
        return ProcessingStatus.QA_WAIVED

    # ä¸¤è€…éƒ½ PASS â†’ QA_PASS
    if bp_result == ProcessingStatus.QA_PASS and ft_result == ProcessingStatus.QA_PASS:
        return ProcessingStatus.QA_PASS

    # ä»»ä¸€ FAIL â†’ QA_FAIL
    if bp_result == ProcessingStatus.QA_FAIL or ft_result == ProcessingStatus.QA_FAIL:
        return ProcessingStatus.QA_FAIL

    # å¦åˆ™ â†’ QA_CONCERNS
    return ProcessingStatus.QA_CONCERNS
```

**D. æ›´æ–°æ‰€æœ‰è¿”å›çŠ¶æ€çš„åœ°æ–¹**
```python
# åŸæœ‰:
return {"status": QAStatus.PASS}

# ä¿®æ”¹ä¸º:
return {"status": ProcessingStatus.QA_PASS}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] ç§»é™¤QAStatusæšä¸¾
- [ ] æ‰€æœ‰QAå·¥å…·ä½¿ç”¨ProcessingStatus
- [ ] çŠ¶æ€å†³ç­–é€»è¾‘æ›´æ–°å®Œæˆ

#### æ­¥éª¤ 1.3: é‡æ„ `state_manager.py`
**ä»»åŠ¡**: ç§»é™¤ç‹¬ç«‹çŠ¶æ€æšä¸¾ï¼Œä½¿ç”¨ç»Ÿä¸€å¤„ç†çŠ¶æ€

**è¯¦ç»†å˜æ›´**:

**A. ç§»é™¤StoryStatuså’ŒQAResultæšä¸¾**
```python
# ç§»é™¤ä»¥ä¸‹å†…å®¹:
# class StoryStatus(Enum): (state_manager.py:30-39)
# class QAResult(Enum): (state_manager.py:42-49)

# ä¿ç•™ProcessingStatusæšä¸¾ï¼ˆä»story_parserå¯¼å…¥ï¼‰
from .story_parser import ProcessingStatus
```

**B. æ›´æ–°çŠ¶æ€æ˜ å°„**
```python
# ç§»é™¤ç°æœ‰çš„status_mapping (state_manager.py:52-67)

# æ–°çš„å•å‘æ˜ å°„ï¼ˆæ•°æ®åº“çŠ¶æ€ â†’ Markdownæ–‡æ¡£çŠ¶æ€ï¼‰
DATABASE_TO_MARKDOWN_MAPPING = {
    # æ•…äº‹çŠ¶æ€
    "pending": "Draft",
    "in_progress": "In Progress",
    "review": "Ready for Review",
    "completed": "Done",
    "failed": "Failed",
    "cancelled": "Draft",

    # QAçŠ¶æ€
    "qa_pass": "Done",  # QAé€šè¿‡è¡¨ç¤ºæ•…äº‹å·²å®Œæˆ
    "qa_concerns": "Ready for Review",  # QAå…³æ³¨éœ€è¦ç»§ç»­
    "qa_fail": "Failed",  # QAå¤±è´¥è¡¨ç¤ºæ•…äº‹å¤±è´¥
    "qa_waived": "Done",  # QAè±å…è¡¨ç¤ºæ•…äº‹å®Œæˆ

    # ç‰¹æ®ŠçŠ¶æ€
    "error": "Failed",
}
```

**C. æ›´æ–°StateManageræ–¹æ³•**
```python
# æ›´æ–°update_story_statusæ–¹æ³•ç­¾å
def update_story_status(
    self,
    story_id: str,
    processing_status: ProcessingStatus,  # ä½¿ç”¨ProcessingStatusæšä¸¾
    expected_version: int | None = None
) -> bool:
    """æ›´æ–°æ•…äº‹çŠ¶æ€ï¼ˆå¤„ç†çŠ¶æ€å€¼ï¼‰"""

# æ›´æ–°get_story_statusæ–¹æ³•
def get_story_status(self, story_id: str) -> ProcessingStatus:
    """è·å–æ•…äº‹çŠ¶æ€ï¼ˆå¤„ç†çŠ¶æ€å€¼ï¼‰"""
    # è¿”å›ProcessingStatusæšä¸¾å€¼
```

**D. æ›´æ–°MarkdownåŒæ­¥é€»è¾‘**
```python
def sync_story_statuses_to_markdown(self) -> dict:
    """åŒæ­¥æ•°æ®åº“çŠ¶æ€åˆ°Markdownæ–‡ä»¶"""
    # 1. ä»æ•°æ®åº“è¯»å–å¤„ç†çŠ¶æ€å€¼
    processing_status = self.get_story_status(story_id)

    # 2. è½¬æ¢ä¸ºMarkdownæ–‡æ¡£çŠ¶æ€å€¼ï¼ˆæ ¸å¿ƒçŠ¶æ€ï¼‰
    core_status = DATABASE_TO_MARKDOWN_MAPPING.get(
        processing_status.value,
        "Draft"
    )

    # 3. æ›´æ–°Markdownæ–‡ä»¶
    update_story_status_in_markdown(story_path, core_status)
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] ç§»é™¤StoryStatuså’ŒQAResultæšä¸¾
- [ ] StateManagerä½¿ç”¨ProcessingStatus
- [ ] çŠ¶æ€æ˜ å°„æ›´æ–°ä¸ºå•å‘
- [ ] MarkdownåŒæ­¥é€»è¾‘æ›´æ–°

#### æ­¥éª¤ 1.4: é‡æ„ `qa_agent.py`
**ä»»åŠ¡**: ç»Ÿä¸€QA AgentçŠ¶æ€å¤„ç†é€»è¾‘

**è¯¦ç»†å˜æ›´**:

**A. æ›´æ–°å¯¼å…¥**
```python
from .story_parser import ProcessingStatus, SimpleStoryParser
from .state_manager import StateManager
from .qa_tools_integration import QAAutomationWorkflow

# ç§»é™¤:
# from .state_manager import QAResult
```

**B. é‡æ„executeæ–¹æ³•**
```python
async def execute(
    self,
    story_path: str,
    cached_status: str | None = None
) -> dict:
    """
    QAæ‰§è¡Œæµç¨‹ï¼ˆä¸å…¶ä»–agentä¿æŒä¸€è‡´ï¼‰

    æµç¨‹:
    1. è·å–æ ¸å¿ƒçŠ¶æ€å€¼ï¼ˆä»æ–‡æ¡£ï¼‰
    2. è½¬æ¢ä¸ºå¤„ç†çŠ¶æ€å€¼ï¼ˆç”¨äºç¨‹åºå†…éƒ¨ï¼‰
    3. æ‰§è¡ŒQAéªŒè¯
    4. æ ¹æ®QAç»“æœç¡®å®šæ–°çš„å¤„ç†çŠ¶æ€å€¼
    5. æ›´æ–°æ•°æ®åº“
    6. ä¸šåŠ¡å†³ç­–åŸºäºæ ¸å¿ƒçŠ¶æ€å€¼
    """

    # æ­¥éª¤ 1: è·å–æ ¸å¿ƒçŠ¶æ€å€¼ï¼ˆä»æ–‡æ¡£ï¼‰
    parser = SimpleStoryParser()
    core_status = await parser.parse_status(story_path)
    # ä¾‹å¦‚: core_status = "Ready for Review"

    # æ­¥éª¤ 2: è½¬æ¢ä¸ºå¤„ç†çŠ¶æ€å€¼
    processing_status = self._core_to_processing(core_status)
    # ä¾‹å¦‚: processing_status = "review"

    # æ­¥éª¤ 3: æ‰§è¡ŒQAéªŒè¯
    qa_workflow = QAAutomationWorkflow()
    qa_result = await qa_workflow.run(story_path)

    # æ­¥éª¤ 4: æ ¹æ®QAç»“æœç¡®å®šæ–°çš„å¤„ç†çŠ¶æ€å€¼
    if qa_result["status"] == ProcessingStatus.QA_PASS:
        new_processing_status = ProcessingStatus.QA_PASS
    elif qa_result["status"] == ProcessingStatus.QA_CONCERNS:
        new_processing_status = ProcessingStatus.QA_CONCERNS
    elif qa_result["status"] == ProcessingStatus.QA_FAIL:
        new_processing_status = ProcessingStatus.QA_FAIL
    else:
        new_processing_status = ProcessingStatus.QA_WAIVED

    # æ­¥éª¤ 5: æ›´æ–°æ•°æ®åº“ï¼ˆä½¿ç”¨å¤„ç†çŠ¶æ€å€¼ï¼‰
    state_manager = StateManager()
    await state_manager.update_story_status(story_path, new_processing_status)

    # æ­¥éª¤ 6: ä¸šåŠ¡å†³ç­–åŸºäºæ ¸å¿ƒçŠ¶æ€å€¼
    if core_status == "Done":
        return {
            "passed": True,
            "completed": True,
            "needs_fix": False,
            "skip_reason": "æ•…äº‹å·²å®Œæˆ"
        }
    elif core_status == "Ready for Review":
        return {
            "qa_result": new_processing_status.value,
            "proceed": True,
            "message": "QAéªŒè¯å®Œæˆ"
        }
    else:
        return {
            "passed": False,
            "needs_fix": True,
            "dev_prompt": f"æ•…äº‹çŠ¶æ€ä¸º {core_status}ï¼Œéœ€è¦å®Œæˆå¼€å‘åè¿›è¡ŒQA"
        }
```

**C. æ·»åŠ è¾…åŠ©æ–¹æ³•**
```python
def _core_to_processing(self, core_status: str) -> str:
    """æ ¸å¿ƒçŠ¶æ€å€¼ â†’ å¤„ç†çŠ¶æ€å€¼è½¬æ¢"""
    mapping = {
        "Draft": "pending",
        "Ready for Development": "pending",
        "In Progress": "in_progress",
        "Ready for Review": "review",
        "Ready for Done": "review",
        "Done": "completed",
        "Failed": "failed",
    }
    return mapping.get(core_status, "pending")
```

**D. ç§»é™¤QAçŠ¶æ€ç›¸å…³é€»è¾‘**
```python
# ç§»é™¤ä»¥ä¸‹æ–¹æ³•:
# async def _execute_qa_review() -> QAResult:
# æ›¿æ¢ä¸ºä½¿ç”¨ProcessingStatus
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] ç§»é™¤QAResultä½¿ç”¨
- [ ] ç»Ÿä¸€çŠ¶æ€å¤„ç†æµç¨‹
- [ ] ä¸šåŠ¡å†³ç­–åŸºäºæ ¸å¿ƒçŠ¶æ€å€¼
- [ ] æ•°æ®åº“æ›´æ–°ä½¿ç”¨ProcessingStatus

---

### Phase 2: Agentè°ƒæ•´ (1-2å¤©)

#### æ­¥éª¤ 2.1: æ›´æ–° `dev_agent.py`
**ä»»åŠ¡**: è°ƒæ•´å¼€å‘æµç¨‹ï¼Œç§»é™¤çŠ¶æ€è½¬æ¢ä¾èµ–

**è¯¦ç»†å˜æ›´**:

**A. ç§»é™¤çŠ¶æ€è½¬æ¢è°ƒç”¨**
```python
# åŸæœ‰ä»£ç :
# from .state_manager import QAResult

# ä¿®æ”¹ä¸º:
from .story_parser import SimpleStoryParser
from .state_manager import StateManager
```

**B. æ›´æ–°executeæ–¹æ³•**
```python
async def execute(self, story_path: str, **kwargs) -> bool:
    """å¼€å‘æ‰§è¡Œæµç¨‹ï¼ˆçŠ¶æ€é©±åŠ¨ï¼‰"""

    # 1. è§£ææ ¸å¿ƒçŠ¶æ€å€¼ï¼ˆä»æ–‡æ¡£ï¼‰
    parser = SimpleStoryParser()
    story_status = await parser.parse_status(story_path)

    # 2. çŠ¶æ€åˆ¤æ–­ï¼ˆåŸºäºæ ¸å¿ƒçŠ¶æ€å€¼ï¼‰
    if story_status.lower() in ["ready for done", "done"]:
        # è·³è¿‡æ•´ä¸ªdev-qaå‘¨æœŸ
        return True

    elif story_status == "Ready for Review":
        # è·³è¿‡å¼€å‘ï¼Œç›´æ¥é€šçŸ¥QA
        return await self._notify_qa_agent_safe(story_path)

    # 3. æ‰§è¡Œå¼€å‘ä»»åŠ¡ï¼ˆåŸæœ‰é€»è¾‘ï¼‰
    await self._execute_development_tasks(story_path)

    # 4. æ›´æ–°æ•…äº‹çŠ¶æ€ä¸º"Ready for Review"
    state_manager = StateManager()
    processing_status = "review"  # å¤„ç†çŠ¶æ€å€¼
    await state_manager.update_story_status(story_path, processing_status)

    # 5. é€šçŸ¥QA
    return await self._notify_qa_agent_safe(story_path)
```

**C. æ›´æ–°_notify_qa_agent_safeæ–¹æ³•**
```python
async def _notify_qa_agent_safe(self, story_path: str) -> bool:
    """å®‰å…¨é€šçŸ¥QA Agent"""
    try:
        # ç§»é™¤ç›´æ¥ä»state_managerå¯¼å…¥QAResultçš„é€»è¾‘
        from .qa_agent import QAAgent

        qa_agent = QAAgent()
        result = await qa_agent.execute(story_path)

        return result.get("proceed", False)

    except Exception as e:
        logger.error(f"é€šçŸ¥QAå¤±è´¥: {e}")
        return False
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] ç§»é™¤çŠ¶æ€è½¬æ¢ä¾èµ–
- [ ] ä¸šåŠ¡å†³ç­–åŸºäºæ ¸å¿ƒçŠ¶æ€å€¼
- [ ] QAé€šçŸ¥é€»è¾‘ç®€åŒ–

#### æ­¥éª¤ 2.2: æ›´æ–° `sm_agent.py`
**ä»»åŠ¡**: è°ƒæ•´æ•…äº‹ç®¡ç†æµç¨‹

**è¯¦ç»†å˜æ›´**:

**A. æ›´æ–°å¯¼å…¥**
```python
from .story_parser import SimpleStoryParser
from .state_manager import StateManager, ProcessingStatus
```

**B. æ›´æ–°çŠ¶æ€ç®¡ç†é€»è¾‘**
```python
# ç§»é™¤å¯¹QAResultçš„ä½¿ç”¨
# ä½¿ç”¨ProcessingStatusç»Ÿä¸€å¤„ç†
```

**C. æ›´æ–°åŒæ­¥é€»è¾‘**
```python
async def sync_status_with_database(self, story_path: str):
    """åŒæ­¥æ•…äº‹çŠ¶æ€ä¸æ•°æ®åº“"""
    # 1. ä»æ–‡æ¡£è¯»å–æ ¸å¿ƒçŠ¶æ€å€¼
    parser = SimpleStoryParser()
    core_status = await parser.parse_status(story_path)

    # 2. è½¬æ¢ä¸ºå¤„ç†çŠ¶æ€å€¼
    processing_status = self._core_to_processing(core_status)

    # 3. æ›´æ–°æ•°æ®åº“
    state_manager = StateManager()
    await state_manager.update_story_status(story_path, processing_status)
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] ä½¿ç”¨ç»Ÿä¸€çŠ¶æ€ç³»ç»Ÿ
- [ ] çŠ¶æ€åŒæ­¥é€»è¾‘ç®€åŒ–

#### æ­¥éª¤ 2.3: æ›´æ–° `epic_driver.py`
**ä»»åŠ¡**: è°ƒæ•´Epicé©±åŠ¨é€»è¾‘

**è¯¦ç»†å˜æ›´**:

**A. æ›´æ–°å¯¼å…¥**
```python
from .story_parser import SimpleStoryParser, ProcessingStatus
```

**B. æ›´æ–°çŠ¶æ€æ£€æŸ¥é€»è¾‘**
```python
# ç§»é™¤å¯¹QAResultçš„ä½¿ç”¨
# ç»Ÿä¸€ä½¿ç”¨ProcessingStatus
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] Epicé©±åŠ¨é€»è¾‘æ›´æ–°å®Œæˆ
- [ ] çŠ¶æ€æ£€æŸ¥ä½¿ç”¨ç»Ÿä¸€ç³»ç»Ÿ

---

### Phase 3: æµ‹è¯•éªŒè¯ (2å¤©)

#### æ­¥éª¤ 3.1: æ›´æ–°å•å…ƒæµ‹è¯•
**ä»»åŠ¡**: ç¡®ä¿æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡

**éœ€è¦æ›´æ–°çš„æµ‹è¯•æ–‡ä»¶**:

**A. `tests/test_story_parser.py`**
```python
def test_core_status_to_processing_conversion():
    """æµ‹è¯•æ ¸å¿ƒçŠ¶æ€åˆ°å¤„ç†çŠ¶æ€çš„è½¬æ¢"""
    # æµ‹è¯•å•å‘è½¬æ¢
    assert core_status_to_processing("Ready for Review") == "review"
    assert core_status_to_processing("Done") == "completed"

def test_qa_status_mapping():
    """æµ‹è¯•QAçŠ¶æ€å€¼æ˜ å°„"""
    # æµ‹è¯•æ–°çš„QAçŠ¶æ€å€¼
    assert ProcessingStatus.QA_PASS == "qa_pass"
    assert ProcessingStatus.QA_FAIL == "qa_fail"

def test_normalize_story_status():
    """æµ‹è¯•æ•…äº‹çŠ¶æ€æ ‡å‡†åŒ–"""
    # æµ‹è¯•åªå¤„ç†æ ¸å¿ƒçŠ¶æ€å€¼
    assert _normalize_story_status("Ready for Review") == "Ready for Review"
    assert _normalize_story_status("draft") == "Draft"
```

**B. `tests/test_state_manager.py`**
```python
def test_update_story_status_with_processing_status():
    """æµ‹è¯•ä½¿ç”¨ProcessingStatusæ›´æ–°æ•…äº‹çŠ¶æ€"""
    state_manager = StateManager()
    status = ProcessingStatus.REVIEW
    result = state_manager.update_story_status("story_1", status)
    assert result == True

def test_sync_to_markdown():
    """æµ‹è¯•æ•°æ®åº“åˆ°Markdownçš„åŒæ­¥"""
    # æµ‹è¯•æ–°çš„å•å‘æ˜ å°„
    pass
```

**C. `tests/test_qa_agent.py`**
```python
async def test_qa_execution_with_unified_status():
    """æµ‹è¯•QAæ‰§è¡Œä½¿ç”¨ç»Ÿä¸€çŠ¶æ€ç³»ç»Ÿ"""
    qa_agent = QAAgent()
    result = await qa_agent.execute("test_story.md")

    # éªŒè¯è¿”å›ä½¿ç”¨ProcessingStatus
    assert "qa_pass" in str(result.get("qa_result", ""))
```

**D. `tests/test_dev_agent.py`**
```python
async def test_dev_flow_with_core_status():
    """æµ‹è¯•å¼€å‘æµç¨‹åŸºäºæ ¸å¿ƒçŠ¶æ€"""
    dev_agent = DevAgent()
    result = await dev_agent.execute("test_story.md")

    # éªŒè¯åŸºäºæ ¸å¿ƒçŠ¶æ€çš„ä¸šåŠ¡é€»è¾‘
    assert result is True
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] è¦†ç›–ç‡ > 90%
- [ ] æµ‹è¯•ç”¨ä¾‹æ›´æ–°å®Œæˆ

#### æ­¥éª¤ 3.2: é›†æˆæµ‹è¯•
**ä»»åŠ¡**: éªŒè¯ç«¯åˆ°ç«¯æµç¨‹

**æµ‹è¯•åœºæ™¯**:

**A. å®Œæ•´æ•…äº‹æµç¨‹æµ‹è¯•**
```python
async def test_complete_story_flow():
    """æµ‹è¯•å®Œæ•´æ•…äº‹æµç¨‹"""
    # 1. åˆ›å»ºæ•…äº‹æ–‡æ¡£
    story_content = create_test_story("Draft")
    await save_story(story_content)

    # 2. éªŒè¯åˆå§‹çŠ¶æ€
    parser = SimpleStoryParser()
    core_status = await parser.parse_status(story_content)
    assert core_status == "Draft"

    # 3. Dev Agentæ‰§è¡Œ
    dev_agent = DevAgent()
    await dev_agent.execute(story_path)

    # 4. éªŒè¯çŠ¶æ€æ›´æ–°
    state_manager = StateManager()
    processing_status = state_manager.get_story_status(story_path)
    assert processing_status == ProcessingStatus.REVIEW

    # 5. QA Agentæ‰§è¡Œ
    qa_agent = QAAgent()
    qa_result = await qa_agent.execute(story_path)

    # 6. éªŒè¯QAç»“æœ
    assert "qa_pass" in qa_result.get("qa_result", "")

    # 7. éªŒè¯æ–‡æ¡£çŠ¶æ€
    final_core_status = await parser.parse_status(story_content)
    assert final_core_status == "Done"
```

**B. QAéªŒè¯æµç¨‹æµ‹è¯•**
```python
async def test_qa_validation_flow():
    """æµ‹è¯•QAéªŒè¯æµç¨‹"""
    # 1. å‡†å¤‡æµ‹è¯•æ•…äº‹
    story_path = prepare_test_story("Ready for Review")

    # 2. æ‰§è¡ŒQA
    qa_agent = QAAgent()
    result = await qa_agent.execute(story_path)

    # 3. éªŒè¯ç»“æœ
    assert result["proceed"] is True
    assert "qa_pass" in result.get("qa_result", "")
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] å®Œæ•´æ•…äº‹æµç¨‹æµ‹è¯•é€šè¿‡
- [ ] QAéªŒè¯æµç¨‹æµ‹è¯•é€šè¿‡
- [ ] çŠ¶æ€è½¬æ¢æµ‹è¯•é€šè¿‡
- [ ] æ•°æ®åº“æ“ä½œæµ‹è¯•é€šè¿‡

#### æ­¥éª¤ 3.3: æ€§èƒ½æµ‹è¯•
**ä»»åŠ¡**: è¯„ä¼°æ€§èƒ½å½±å“

**æµ‹è¯•å†…å®¹**:

**A. æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½æµ‹è¯•**
```python
def test_database_query_performance():
    """æµ‹è¯•æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½"""
    # ç›®æ ‡: æŸ¥è¯¢æ—¶é—´ < 10ms
    pass

def test_status_conversion_performance():
    """æµ‹è¯•çŠ¶æ€è½¬æ¢æ€§èƒ½"""
    # ç›®æ ‡: è½¬æ¢æ—¶é—´ < 1ms
    pass
```

**B. å†…å­˜ä½¿ç”¨æµ‹è¯•**
```python
def test_memory_usage():
    """æµ‹è¯•å†…å­˜ä½¿ç”¨"""
    # ç›®æ ‡: å†…å­˜ä½¿ç”¨å¢åŠ  < 50%
    pass
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½è¾¾æ ‡
- [ ] çŠ¶æ€è½¬æ¢æ€§èƒ½è¾¾æ ‡
- [ ] å†…å­˜ä½¿ç”¨åœ¨å¯æ¥å—èŒƒå›´

#### æ­¥éª¤ 3.4: å›å½’æµ‹è¯•
**ä»»åŠ¡**: ç¡®ä¿ç°æœ‰åŠŸèƒ½ä¸å—å½±å“

**æµ‹è¯•åœºæ™¯**:
- [ ] æ•…äº‹åˆ›å»ºæµç¨‹
- [ ] çŠ¶æ€æ›´æ–°æµç¨‹
- [ ] QAéªŒè¯æµç¨‹
- [ ] Epicç®¡ç†æµç¨‹

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰å›å½’æµ‹è¯•é€šè¿‡
- [ ] ç°æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ

---

### Phase 4: éƒ¨ç½²ä¸Šçº¿ (0.5å¤©)
**âš ï¸ ç›´æ¥éƒ¨ç½²ï¼Œæ— éœ€æ•°æ®è¿ç§»**

#### æ­¥éª¤ 4.1: éƒ¨ç½²ä»£ç 
**ä»»åŠ¡**: éƒ¨ç½²æ–°ç‰ˆæœ¬ä»£ç 

**æ“ä½œ**:
```bash
# 1. æäº¤æ›´æ”¹
git add .
git commit -m "feat: ç»Ÿä¸€çŠ¶æ€ç³»ç»Ÿæ¶æ„ (ç ´åæ€§æ›´æ”¹)

- ç§»é™¤åŒå‘çŠ¶æ€æ˜ å°„ï¼Œå®ç°å•å‘æ•°æ®æµ
- ç»Ÿä¸€QAçŠ¶æ€åˆ°å¤„ç†çŠ¶æ€ç³»ç»Ÿ
- æ¶ˆé™¤çŠ¶æ€å¾ªç¯ä¾èµ–
- ç®€åŒ–çŠ¶æ€è½¬æ¢é€»è¾‘ï¼ˆçº¦250è¡Œä»£ç å‡å°‘ï¼‰

âš ï¸ ç ´åæ€§æ›´æ”¹: æ— å‘åå…¼å®¹æ€§

Co-Authored-By: Claude <noreply@anthropic.com>"

# 2. æ¨é€åˆ†æ”¯
git push origin feature/unified-status-system

# 3. åˆ›å»ºPR
gh pr create --title "feat: ç»Ÿä¸€çŠ¶æ€ç³»ç»Ÿæ¶æ„ (ç ´åæ€§æ›´æ”¹)" --body "$(cat <<'EOF'
## å˜æ›´è¯´æ˜

æœ¬PRå®ç°äº†çŠ¶æ€ç³»ç»Ÿæ¶æ„é‡æ„ï¼Œé‡‡ç”¨**ç ´åæ€§æ›´æ”¹**æ–¹å¼ï¼Œæ— å‘åå…¼å®¹æ€§ã€‚

### æ ¸å¿ƒæ”¹è¿›
1. **ç»Ÿä¸€çŠ¶æ€æ¶æ„**: æ‰€æœ‰agentä½¿ç”¨ç›¸åŒçš„ä¸¤å¥—çŠ¶æ€ç³»ç»Ÿ
2. **å•å‘æ•°æ®æµ**: æ–‡æ¡£ â†’ æ ¸å¿ƒçŠ¶æ€ â†’ å¤„ç†çŠ¶æ€
3. **æ¶ˆé™¤å¾ªç¯ä¾èµ–**: ç§»é™¤çŠ¶æ€ç³»ç»Ÿé—´ç›¸äº’ä¾èµ–
4. **ç®€åŒ–è½¬æ¢é€»è¾‘**: å‡å°‘çº¦250è¡Œä»£ç 

### æ–‡ä»¶å˜æ›´
- `story_parser.py`: é‡æ„çŠ¶æ€ç³»ç»Ÿ
- `state_manager.py`: ç»Ÿä¸€çŠ¶æ€æšä¸¾
- `qa_tools_integration.py`: ç§»é™¤ç‹¬ç«‹QAçŠ¶æ€
- `qa_agent.py`: ç»Ÿä¸€çŠ¶æ€å¤„ç†
- `dev_agent.py`: è°ƒæ•´çŠ¶æ€é€»è¾‘
- `sm_agent.py`: æ›´æ–°çŠ¶æ€ç®¡ç†
- `epic_driver.py`: ç®€åŒ–çŠ¶æ€æ£€æŸ¥

### æµ‹è¯•
- [x] å•å…ƒæµ‹è¯•é€šè¿‡
- [x] é›†æˆæµ‹è¯•é€šè¿‡
- [x] æ€§èƒ½æµ‹è¯•é€šè¿‡
- [x] å›å½’æµ‹è¯•é€šè¿‡

âš ï¸ **é‡è¦**: æ­¤ä¸ºç ´åæ€§æ›´æ”¹ï¼Œéœ€è¦æ–°ç¯å¢ƒéƒ¨ç½²
EOF
)"
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] ä»£ç æäº¤æˆåŠŸ
- [ ] PRåˆ›å»ºæˆåŠŸ
- [ ] CI/CDé€šè¿‡

#### æ­¥éª¤ 4.2: ç›‘æ§éƒ¨ç½²
**ä»»åŠ¡**: è®¾ç½®ç›‘æ§å’Œå‘Šè­¦

**æ“ä½œ**:
- [ ] éƒ¨ç½²ç›‘æ§ç³»ç»Ÿ
- [ ] è®¾ç½®çŠ¶æ€è½¬æ¢å‘Šè­¦
- [ ] è®¾ç½®æ€§èƒ½ç›‘æ§å‘Šè­¦
- [ ] éªŒè¯åŠŸèƒ½æ­£å¸¸

**éªŒæ”¶æ ‡å‡†**:
- [ ] ç›‘æ§ç³»ç»Ÿè¿è¡Œæ­£å¸¸
- [ ] å‘Šè­¦è§„åˆ™ç”Ÿæ•ˆ
- [ ] åŠŸèƒ½éªŒè¯é€šè¿‡

---

## ğŸ“ˆ å…³é”®æŒ‡æ ‡ç›‘æ§

### æ€§èƒ½æŒ‡æ ‡

#### 1. çŠ¶æ€è½¬æ¢å‡†ç¡®æ€§
```python
# ç›‘æ§æŒ‡æ ‡
status_conversion_accuracy = (
    successful_conversions / total_conversions
) * 100

# ç›®æ ‡: > 99.9%
```

#### 2. æ•°æ®ä¸€è‡´æ€§
```python
# ç›‘æ§æŒ‡æ ‡
data_consistency = (
    consistent_records / total_records
) * 100

# ç›®æ ‡: 100%
```

#### 3. æ€§èƒ½æŒ‡æ ‡
```python
# ç›‘æ§æŒ‡æ ‡
status_conversion_time = average_conversion_duration_ms
database_query_time = average_query_duration_ms

# ç›®æ ‡: è½¬æ¢ < 1msï¼ŒæŸ¥è¯¢ < 10ms
```

### å‘Šè­¦è§„åˆ™

#### 1. çŠ¶æ€è½¬æ¢å¤±è´¥
```yaml
alert:
  condition: status_conversion_error_rate > 1%
  severity: warning
  message: "çŠ¶æ€è½¬æ¢å¤±è´¥ç‡è¿‡é«˜"
```

#### 2. æ•°æ®ä¸ä¸€è‡´
```yaml
alert:
  condition: data_consistency < 99.9%
  severity: critical
  message: "æ£€æµ‹åˆ°æ•°æ®ä¸ä¸€è‡´"
```

#### 3. æ€§èƒ½ä¸‹é™
```yaml
alert:
  condition: status_conversion_time > 10ms
  severity: warning
  message: "çŠ¶æ€è½¬æ¢æ€§èƒ½ä¸‹é™"
```

---

## ğŸ” é£é™©è¯„ä¼°ä¸ç¼“è§£
**âš ï¸ é‡‡ç”¨ç ´åæ€§æ›´æ”¹ï¼Œæ— å‘åå…¼å®¹æ€§è¦æ±‚**

### é«˜é£é™©é¡¹

#### 1. é›†æˆæµ‹è¯•å¤±è´¥é£é™©
**é£é™©ç­‰çº§**: é«˜
**å½±å“**: ç«¯åˆ°ç«¯æµç¨‹å¼‚å¸¸
**ç¼“è§£æªæ–½**:
- è¯¦ç»†é›†æˆæµ‹è¯•ç”¨ä¾‹
- æ–°ç¯å¢ƒå®Œæ•´æµ‹è¯•
- ä¿®å¤æ‰€æœ‰å¤±è´¥æµ‹è¯•

### ä¸­é£é™©é¡¹

#### 2. æ€§èƒ½ä¸‹é™é£é™©
**é£é™©ç­‰çº§**: ä¸­
**å½±å“**: ç³»ç»Ÿå“åº”å˜æ…¢
**ç¼“è§£æªæ–½**:
- æ€§èƒ½æµ‹è¯•éªŒè¯
- æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–
- ç›‘æ§å‘Šè­¦

### ä½é£é™©é¡¹

#### 3. æ–‡æ¡£æ›´æ–°ä¸åŠæ—¶é£é™©
**é£é™©ç­‰çº§**: ä½
**å½±å“**: å¼€å‘è€…å›°æƒ‘
**ç¼“è§£æªæ–½**:
- åŠæ—¶æ›´æ–°æ–‡æ¡£
- å˜æ›´è¯´æ˜æ¸…æ™°
- æä¾›æ–°ç¯å¢ƒéƒ¨ç½²æŒ‡å—

---

## ğŸ“‹ éªŒæ”¶æ ‡å‡†

### æ ¸å¿ƒéªŒæ”¶æ ‡å‡†

#### 1. åŠŸèƒ½éªŒæ”¶
- [ ] æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] æ‰€æœ‰é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æ‰€æœ‰å›å½’æµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æµ‹è¯•è¾¾æ ‡

#### 2. ä»£ç è´¨é‡éªŒæ”¶
- [ ] ä»£ç è¦†ç›–ç‡ > 90%
- [ ] ç±»å‹æ£€æŸ¥é€šè¿‡
- [ ] ä»£ç é£æ ¼æ£€æŸ¥é€šè¿‡
- [ ] å®‰å…¨æ‰«æé€šè¿‡

#### 3. æ¶æ„éªŒæ”¶
- [ ] çŠ¶æ€ç³»ç»Ÿç»Ÿä¸€
- [ ] å•å‘æ•°æ®æµå®ç°
- [ ] å¾ªç¯ä¾èµ–æ¶ˆé™¤
- [ ] çŠ¶æ€è½¬æ¢ç®€åŒ–

#### 4. æ–°ç¯å¢ƒéªŒæ”¶
- [ ] æ–°ç¯å¢ƒéƒ¨ç½²æˆåŠŸ
- [ ] æ•°æ®åˆå§‹åŒ–å®Œæˆ
- [ ] æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ

#### 5. ç›‘æ§éªŒæ”¶
- [ ] ç›‘æ§ç³»ç»Ÿéƒ¨ç½²å®Œæˆ
- [ ] å‘Šè­¦è§„åˆ™é…ç½®å®Œæˆ
- [ ] å…³é”®æŒ‡æ ‡é‡‡é›†æ­£å¸¸

---

## ğŸ“– æ–°ç¯å¢ƒéƒ¨ç½²æŒ‡å—

### éƒ¨ç½²å‰å‡†å¤‡

1. **åˆ›å»ºå…¨æ–°ç¯å¢ƒ**
```bash
# åˆ›å»ºæ–°çš„è™šæ‹Ÿç¯å¢ƒ
python -m venv venv_new
source venv_new/bin/activate  # Linux/macOS
# æˆ–
venv_new\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

2. **åˆå§‹åŒ–æ•°æ®åº“**
```bash
# åˆ›å»ºå…¨æ–°çš„æ•°æ®åº“
python init_db.py

# éªŒè¯æ•°æ®åº“
sqlite3 progress.db ".tables"
```

### éƒ¨ç½²æ­¥éª¤

1. **éƒ¨ç½²ä»£ç **
```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git clone <repository>
cd epic_automation

# åˆ‡æ¢åˆ°é‡æ„åˆ†æ”¯
git checkout feature/unified-status-system

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

2. **åˆå§‹åŒ–ç³»ç»Ÿ**
```bash
# åˆå§‹åŒ–æ•°æ®åº“
python init_db.py

# è¿è¡Œæµ‹è¯•
pytest -v

# å¯åŠ¨ç³»ç»Ÿ
python epic_driver.py
```

### éªŒè¯éƒ¨ç½²

1. **åŠŸèƒ½éªŒè¯**
```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
pytest tests/ -v

# éªŒè¯çŠ¶æ€ç³»ç»Ÿ
python -c "
from story_parser import ProcessingStatus
print('âœ… ProcessingStatus:', ProcessingStatus.QA_PASS.value)
"
```

2. **æ€§èƒ½éªŒè¯**
```bash
# è¿è¡Œæ€§èƒ½æµ‹è¯•
pytest tests/test_performance.py -v
```

---

## ğŸ¯ åç»­ä¼˜åŒ–è®¡åˆ’

### çŸ­æœŸä¼˜åŒ– (1ä¸ªæœˆå†…)

1. **æ€§èƒ½ä¼˜åŒ–**
   - æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–
   - çŠ¶æ€è½¬æ¢ç¼“å­˜
   - æŸ¥è¯¢ä¼˜åŒ–

2. **ç›‘æ§å¢å¼º**
   - å®æ—¶çŠ¶æ€ç›‘æ§
   - å¼‚å¸¸æ£€æµ‹
   - æ€§èƒ½å‘Šè­¦

### ä¸­æœŸä¼˜åŒ– (3ä¸ªæœˆå†…)

1. **åŠŸèƒ½æ‰©å±•**
   - æ”¯æŒæ›´å¤šçŠ¶æ€ç±»å‹
   - çŠ¶æ€å†å²è®°å½•
   - çŠ¶æ€è½¬æ¢å®¡è®¡

2. **æ¶æ„æ”¹è¿›**
   - äº‹ä»¶é©±åŠ¨æ¶æ„
   - çŠ¶æ€æœºæ¨¡å¼
   - æ’ä»¶åŒ–çŠ¶æ€å¤„ç†å™¨

### é•¿æœŸä¼˜åŒ– (6ä¸ªæœˆå†…)

1. **æ™ºèƒ½åŒ–**
   - AIè¾…åŠ©çŠ¶æ€å†³ç­–
   - è‡ªåŠ¨çŠ¶æ€è½¬æ¢
   - æ™ºèƒ½å¼‚å¸¸æ£€æµ‹

2. **å¹³å°åŒ–**
   - å¤šç§Ÿæˆ·æ”¯æŒ
   - æ°´å¹³æ‰©å±•
   - å¾®æœåŠ¡æ‹†åˆ†

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

### è®¾è®¡æ–‡æ¡£
- [çŠ¶æ€ç³»ç»Ÿæ¶æ„åˆ†ææŠ¥å‘Š](çŠ¶æ€ç³»ç»Ÿæ¶æ„åˆ†ææŠ¥å‘Š.md)
- [STATUS_IMPLEMENTATION.md](../autoBMAD/epic_automation/STATUS_IMPLEMENTATION.md)
- [STANDARD_STATUS.md](../autoBMAD/epic_automation/STANDARD_STATUS.md)

### å¼€å‘æ–‡æ¡£
- [å¼€å‘è§„åˆ™](../claude_docs/development_rules.md)
- [æµ‹è¯•æŒ‡å—](../claude_docs/testing_guide.md)
- [è´¨é‡ä¿è¯](../claude_docs/quality_assurance.md)

### æ“ä½œæ–‡æ¡£
- [æ–°ç¯å¢ƒéƒ¨ç½²æŒ‡å—](#æ–°ç¯å¢ƒéƒ¨ç½²æŒ‡å—)
- [ç›‘æ§é…ç½®](#ç›‘æ§é…ç½®)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

---

**æ–‡æ¡£ç»“æŸ**

**è”ç³»ä¿¡æ¯**:
- å®æ–½å›¢é˜Ÿ: Epic Automation æ¶æ„ç»„
- å®¡æ ¸æ—¥æœŸ: 2026-01-10
- æ–‡æ¡£ç‰ˆæœ¬: v1.0

**é™„å½•**:
- A. ä»£ç ç¤ºä¾‹
- B. æ–°ç¯å¢ƒéƒ¨ç½²æŒ‡å—
- C. æµ‹è¯•ç”¨ä¾‹
- D. ç›‘æ§é…ç½®
