# BMAD Workflow Execution Configuration - Phase D
# Final Development: Single Dev Agent (QA PASS path)
# Complements timer-based workflow

schema: 2
phase: d
phase_name: "Phase D - Final Development & Polish"
clock_source: "system_timer"

deployment:
  agent_type: "dev"
  instance_count: 1                        # Single dev agent
  command: "*develop-story"
  mode: "single"
  staggered_start: false

behavior:
  autoExecute: true
  autoExecuteCommand: "*develop-story"
  showHelp: false
  timeout: 1200                            # 20 minutes (light polish)
  exitOnComplete: true                     # Workflow completes after this phase

timer_integration:
  phase_delay_minutes: 30                  # Final development time
  wait_for_timer: true
  exit_behavior: "workflow_complete"     # End of workflow

logging:
  log_level: "Info"
  capture_output: true
  log_file_prefix: "phase-d"
  console_output: true

agent_config:
  skip_permissions: true
  dangerously_skip_permissions: true
  command_delay_seconds: 1

# Final phase settings
final_phase:
  update_story_status: "Done"
  create_completion_marker: true
  run_final_validations: true

transition:
  next_phase: null                         # End of workflow
  transition_type: "workflow_complete"
  workflow_completion: true
