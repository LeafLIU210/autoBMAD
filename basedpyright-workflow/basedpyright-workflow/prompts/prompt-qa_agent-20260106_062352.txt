Please fix the Python code in the following file: d:\GITHUB\pytQt_template\autoBMAD\epic_automation\qa_agent.py

BasedPyright type errors (5):  Line 358, Col 16: [reportUndefinedVariable] "query" 未定义 (reportUndefinedVariable)
  Line 358, Col 38: [reportUndefinedVariable] "ClaudeAgentOptions" 未定义 (reportUndefinedVariable)
  Line 359, Col 17: [reportUnknownVariableType] "options" 类型未知 (reportUnknownVariableType)
  Line 359, Col 27: [reportUndefinedVariable] "ClaudeAgentOptions" 未定义 (reportUndefinedVariable)
  Line 364, Col 45: [unknown] 参数类型未知

Requirements:
1. Fix all the errors listed above
2. Maintain code functionality and readability
3. Follow Python best practices
4. Preserve existing code style where possible
5. Add comments explaining complex fixes if necessary

Please provide the complete fixed file content.
