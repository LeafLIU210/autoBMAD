Please fix the Python code in the following file: d:\GITHUB\pytQt_template\autoBMAD\epic_automation\sdk_session_manager.py

BasedPyright type errors (9):  Line 230, Col 24: [unknown] "IsolatedSDKContext" 类型的对象不能用于 `with` 语句，因为它未实现 "__aexit__"
  Line 255, Col 23: [unknown] "int | float" 类型不匹配声明的 "int | None" 类型
  Line 259, Col 15: [unknown] "int" 与 "int | None" 类型不支持 "<=" 运算符
  Line 312, Col 52: [unknown] "int" 与 "int | None" 类型不支持 "<" 运算符
  Line 340, Col 32: [unknown] "CancelledError" 类型的实参无法赋值给函数 "__init__" 中 "Exception | None" 类型的形参 "last_error"
  Line 383, Col 52: [unknown] "int" 与 "int | None" 类型不支持 "<" 运算符
  Line 412, Col 52: [unknown] "int" 与 "int | None" 类型不支持 "<" 运算符
  Line 431, Col 44: [reportPossiblyUnboundVariable] "start_time" 可能未绑定 (reportPossiblyUnboundVariable)
  Line 432, Col 24: [reportPossiblyUnboundVariable] "session_id" 可能未绑定 (reportPossiblyUnboundVariable)

Requirements:
1. Fix all the errors listed above
2. Maintain code functionality and readability
3. Follow Python best practices
4. Preserve existing code style where possible
5. Add comments explaining complex fixes if necessary

Please provide the complete fixed file content.
