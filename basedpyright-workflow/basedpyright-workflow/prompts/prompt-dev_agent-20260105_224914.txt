Please fix the Python code in the following file: d:\GITHUB\pytQt_template\autoBMAD\epic_automation\dev_agent.py

BasedPyright type errors (4):  Line 499, Col 17: [reportUnusedVariable] 变量 "message_count" 未使用 (reportUnusedVariable)
  Line 508, Col 29: [reportPossiblyUnboundVariable] "message_count" 可能未绑定 (reportPossiblyUnboundVariable)
  Line 519, Col 28: [reportPossiblyUnboundVariable] "message_count" 可能未绑定 (reportPossiblyUnboundVariable)
  Line 520, Col 80: [reportPossiblyUnboundVariable] "message_count" 可能未绑定 (reportPossiblyUnboundVariable)

Requirements:
1. Fix all the errors listed above
2. Maintain code functionality and readability
3. Follow Python best practices
4. Preserve existing code style where possible
5. Add comments explaining complex fixes if necessary

Please provide the complete fixed file content.
