[tool:pytest]
# 测试标记定义
markers =
    e2e: End-to-end tests - 完整业务流程测试
    integration: Integration tests - 组件集成测试
    performance: Performance tests - 性能基准测试
    cancel_scope: Cancel scope tests - Cancel Scope 错误验证测试
    unit: Unit tests - 单元测试
    slow: Slow running tests - 慢速测试

# 测试选项
addopts =
    -v
    --tb=short
    --strict-markers
    --color=yes
    --durations=10

# 测试目录
testpaths =
    tests

# Python 文件模式
python_files =
    test_*.py
    *_test.py

# Python 函数模式
python_functions =
    test_*

# 日志配置
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# 过滤警告
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
